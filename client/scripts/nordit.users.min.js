window.NU=Ember.Application.create({LOG_TRANSITIONS:!0}),Ember.View.reopen({templateForName:function(a,b){if(a){var c=Ember.get(this,"templates"),d=Ember.get(c,a);if(d||$.ajax({url:"views/templates/%@.hbs".fmt(a),async:!1}).success(function(a){d=Ember.Handlebars.compile(a)}),!d)throw new Ember.Error('%@ - Unable to find %@ "%@".'.fmt(this,b,a));return d}}}),NU.ApplicationController=Ember.Controller.extend({actions:{changeLang:function(a){console.log(this),this.transitionToRoute(this.currentRouteName,a)}}}),NU.AboutView=Ember.View.extend({templateName:"about"}),NU.CommonView=Ember.View.extend({templateName:"common"}),NU.Router.map(function(){this.resource("main",{path:"/"}),this.resource("lang",{path:"/:lang"},function(){this.resource("about"),this.resource("common"),this.resource("contract",{path:"/contract/:id"})})}),NU.Router.reopen({location:"history"}),NU.Router.map(function(){this.resource("lang",{path:"/:lang"},function(){this.resource("append")})}),NU.Router.map(function(){this.resource("lang",{path:"/:lang"},function(){this.resource("append",{path:"ble"})})}),NU.BaseRoute=Ember.Route.extend({activate:function(){console.log("BaseRoute");var a=this.controllerFor("application");a.set("lastFilter",this.templateName)}}),NU.AboutRoute=NU.BaseRoute.extend({model:function(){console.log("AboutRoute")}}),NU.MainRoute=NU.BaseRoute.extend({beforeModel:function(){this.transitionTo("about","en")}}),NU.CommonRoute=NU.BaseRoute.extend();